{% extends "ints/layout.html" %}
{% load static %}

{% block body %}
<div class="container-fluid px-0 my-4">
    <div class="alert alert-success d-none" id="deleted-transaction"></div>
    <div class="row px-5 mb-2">
        <div class="col display-4">
            All your transactions
        </div>
    </div>
    <div class="row px-5 mb-2">
        <div class="col-6 col-lg-3 text-center">
            <p class="text-left m-0">Order pages by ...</p>
            <select class="form-control" id="date-order-filter">
                <option>Date added</option>
                <option>Date of receipt</option>
            </select>
        </div>
        <div class="col-6 col-lg-3 text-center">
            <p class="text-left m-0">Transactions per page...</p>
            <select class="form-control" id="items-per-page">
                <option>10</option>
                <option>20</option>
            </select>
        </div>
        <div class="col-6 col-lg-3 text-center">
            <p class="text-left m-0">In category ... </p>
            <select class="form-control" id="category-filter">
                <option>All</option>
                <option>Debts</option>
                <option>Food</option>
                <option>Groceries</option>
                <option>Leisure</option>
                <option>Other</option>
            </select>
        </div>
        <div class="col-6 col-lg-3 text-center">
            <p class="text-left m-0">Added on ...</p>
            <select class="form-control" id="month-filter">
                <option>All</option>
                <option>Jan</option>
                <option>Feb</option>
                <option>Mar</option>
                <option>Apr</option>
                <option>May</option>
                <option>Jun</option>
                <option>Jul</option>
                <option>Aug</option>
                <option>Sep</option>
                <option>Oct</option>
                <option>Nov</option>
                <option>Dec</option>
            </select>
        </div>
    </div>
</div>

<hr>
<div class="container-fluid shadow p-0">
    <div class="row px-5">
        <div class="col m-auto">
            <table class="table table-striped table-hover" id="table">
                <thead>
                    <tr>
                        <th scope="col" class="order-by" data-column="1" data-order="asc">
                            Reference
                            <span class="order-icon badge badge-pill badge-primary badge badge-pill badge-primary"></span>
                        </th>
                        <th scope="col" class="order-by" data-column="2" data-order="asc">
                            Amount
                            <span class="order-icon badge badge-pill badge-primary" data-column="2" data-order="asc"></span>
                        </th>
                        <th scope="col" class="order-by" data-column="3" data-order="asc">
                            Category
                            <span class="order-icon badge badge-pill badge-primary" data-column="3" data-order="asc"></span>
                        </th>
                        <th scope="col" class="order-by" data-column="4" data-order="asc">
                            Added on
                            <span class="order-icon badge badge-pill badge-primary" data-column="4" data-order="asc"></span>
                        </th>
                        <th scope="col" class="order-by" data-column="5" data-order="asc">
                            Receipt date
                            <span class="order-icon badge badge-pill badge-primary" data-column="5" data-order="asc"></span>
                        </th>
                        <th scope="col">
                            Delete
                        </th>
                    </tr>
                </thead>
                <tbody id="table-body">
                </tbody>                
            </table>
        </div>
    </div>
    <div class="row px-5">        
        <div class="col text-center">
            {% if transactions.has_other_pages %}
            <nav aria-label="Page navigation example">
                <div class="container-fluid my-3" id="pagination-links">
                </div>
            </nav>
            {% endif %}
        </div>
    </div>
</div>

<!-- Button trigger modal -->
<button type="button" class="btn btn-primary d-none" data-toggle="modal" data-target="#transactionModal" id="openTransactionDetails"></button>
  
  <!-- Modal with transaction details -->
  <div class="modal fade" id="transactionModal" tabindex="-1" role="dialog" aria-labelledby="transactionModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="transaction-reference"></h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body" id="transaction-details"></div>
        <div class="modal-footer">
            <span class="text-muted" id="transaction-addded"></span>
            <button type="button" class="btn btn-secondary" data-dismiss="modal" id="close-button">Close</button>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block script %}
<script src="{% static 'ints/Js/ajax.js' %}"></script>
<script src="{% static 'ints/Js/orderItems.js' %}"></script>
<script src="{% static 'ints/Js/allTransactions.js' %}"></script>
{% endblock %}